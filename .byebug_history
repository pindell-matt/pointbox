exit
UserReward.where(user_id: @user.id).each { |uid| uid.destroy }
UserReward.where(user_id: @user.id)
UserReward.find_by(user_id: @user.id)
exit
User.joins(:user_rewards).where(user_id: @user.id)
User.joins(:user_rewards)
@user
exit
@user.rewards.each do { |reward| reward.destroy }
@user.rewards
@user
exit
@user.points.destroy
@user.points
@user
@user.points.destroy
@user.points
@user.points.each { |point| point.destroy }
@user.points
exit
params
exit
@user
exit
params
exit
params
exit
@user.destroy
@user = User.find(params[:id])
params
@user = User.find(params[:user_id])
exit
params
exit
reward
exit
current_user.rewards
current_user
current_user.rewards << Reward.find(params.dig(:user,:rewards))
current_user.rewards = Reward.find(params.dig(:user,:rewards))
params[:user]
params
exit
current_user
@user
exit
@user = User.find(params[:id])
params
exit
params
exit
UserReward
Reward.find(params.dig("reward", "id"))
Reward.find(params.dig("reward", "id")
params.dig("reward", "id")
params
Reward.find(params[:rewards])
Reward.find(params[:reward])
exit
params
exit
params
exit
params
exit
params
exit
params
reward_params
params
exit
params
exit
Reward.new(reward_params)
reward_params
params
exit
params
exit
Reward.find(reward_params)
params
exit
params
exit
params
exit
params
@reward = @user.rewards.new(reward))
@reward = @user.rewards.new(reward_p)
@reward = @user.rewards.new(    reward_p = Reward.find(params.dig("user", "rewards"))
    reward_p = Reward.find(params.dig("user", "rewards"))
params.dig("user", "rewards")
params
exit
params
exit
params.dig("user", "rewards")
params.dig("user", "rewards").to_h
params.dig("user", "rewards")
params
exit
params
@reward.class
@reward
exit
params
exit
@user
params.dig("user", "rewards")
params
exit
params
exit
params
exit
params
exit
params.dig("user", "reward_ids")
params
exit
user.rewards.new
user = User.find(params[:user_id])
user = User.find(params[:user_id]
@user
@reward = @user.rewards.new
params
exit
create(:reward)
user
reward
exit
params
exit
params
exit
params
exit
params
exit
params
exit
params
exit
@user
@point
exit
@user
exit
params
exit
params
@reward = @user.rewards.new
@user = User.find(params[:user_id])
@user = _
User.find(params[:user_id])
params
exit
params
ls
params
@point
@user
exit
params
exit
params
exit
params
user
@user
@point
exit
@user
user
params
@user
exit
@user
point_params
@point
current_user
@user
params
@user
params
session
params
exit
User.find(332)
point_params
@point
@user
exit
@user
user
exit
@user
point_params
@point
@user
exit
params
exit
params
exit
params
session.include?("user")
session.include?("@user")
session
params
@user
user
exit
user
@user
params
exit
current_user
params
exit
exut
params
exit
params
exit
params
point_params
exit
validate !:user_id.empty?
exit
    params.require(:point).permit(:value, :user_id)
params
exit
params
exit
point.valid?
point = Point.new(point_params)
point_params = {"value" => "a", "user_id" => 1 }
point.valid?
point = Point.new(point_params)
point_params
exit
@point
@point.class.user_id
@point.class
exit
params.dig("point", "user_id")
params.dog("point", "user_id")
params
exit
points.where("value < 0").sum(:value).abs
points.value
points.values
exit
